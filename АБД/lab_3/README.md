# LAB 3

1. Дайте определение понятию «база данных» (БД).

![Untitled](LAB%203/Untitled.png)

1.  Дайте определение понятию «система управления базой данных» (СУБД).

![Untitled](LAB%203/Untitled%201.png)

1. Назовите основные компоненты СУБД.

1)    **ядро**, которое отвечает за управление данными во внешней и оперативной памяти и журнализацию,

2)    **процессор языка базы данных**, обеспечивающий оптимизацию запросов на извлечение и изменение данных и создание, как правило, машинно-независимого исполняемого внутреннего кода,

3)    **подсистему поддержки времени исполнения**, которая интерпретирует программы манипуляции данными, создающие пользовательский интерфейс с СУБД

4)    а также **сервисные программы** (внешние утилиты), обеспечивающие ряд дополнительных возможностей по обслуживанию информационной системы.

1. Какие БД называют системными?

![Untitled](LAB%203/Untitled%202.png)

1.  Какие БД называются реляционными? Назовите основные признаки реляционных баз данных.

![Untitled](LAB%203/Untitled%203.png)

1. Что такое ***OLTP***?

Оперативная обработка транзакций (**OLTP**) — это управление данными о транзакциях с помощью компьютерных систем. Системы **OLTP** записывают операции обмена данными в организации, выполняющиеся каждый день, и поддерживают запрашивание этих данных, чтобы на их основе делать выводы. Данные о транзакциях.

1.  Что такое ***OLAP***?

**OLAP**
 (англ. online **analytical processing)**, интерактивная аналитическая обработка) — технология обработки данных, заключающаяся в подготовке суммарной (агрегированной) информации на основе больших массивов данных, структурированных по многомерному принципу. Реализации технологии **OLAP**
 являются компонентами программных решений класса Business Intelligence.

8. Поясните понятие «архитектура клиент-сервер».

![Untitled](LAB%203/Untitled%204.png)

1.  Поясните понятие сервис Windows

**Слу́жба Windows**
 ([англ.](https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA) *Windows Service*) — приложение, автоматически (если настроено) исполняемое системой при запуске операционной системы [Windows](https://ru.wikipedia.org/wiki/Windows)
 и выполняющиеся вне зависимости от статуса пользователя. Имеет общие черты с концепцией [демонов](https://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BC%D0%BE%D0%BD_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0))
 в [Unix](https://ru.wikipedia.org/wiki/Unix)

1. Поясните понятие «программный интерфейс СУБД».

Все СУБД имеют программные интерфейсы, которые позволяют подключаться к ним из сторонних приложений. Эти интерфейсы могут иметь вид программных библиотек различного уровня сложности и/или абстракции, а могут представлять собой драйверы для распространенных систем взаимодействия с СУБД, как например JDBC (Java Database Connectivity) или ODBC (Open Database Connectivity).

Все интерфейсы должны реализовывать следующие функции:

1. Подключение к СУБД : Подключение к серверу СУБД подразумевает, как правило, указание пользователя, подключающегося к базе данных, пароля или другого способа аутентификации, и, собственно, базы данных, с которой планируется производить работу
2. Выполнение SQL-команд : В подавляющем большинстве случаев, после успешного подключения к СУБД, программный интерфейс позволяет выполнять SQL-команды непосредственно.
3. Получение данных от СУБД : Поскольку любой SQL-запрос возвращает множество кортежей, часто – особенно в языках со статической типизацией – требуются специальные средства для получения результатов запросов. Обычно это функции, позволяющие получать и итерировать полученные записи, а так же получать и преобразовывать типы значений столбцов конкретной записи.

11. Поясните понятие «интерфейс командной строки».

**Интерфейс** **командной** **строки** (англ. Command line **interface**, CLI) — разновидность текстового **интерфейса** (TUI) между человеком и компьютером, в котором инструкции компьютеру даются в основном путём ввода с клавиатуры текстовых **строк** (команд), в UNIX-системах возможно применение мыши. Также известен под названиями «консоль» и «терминал».

1. Расшифруйте SQL и объясните, что это такое.
    
    ![Untitled](LAB%203/Untitled%205.png)
    
2. Поясните понятие «декларативный язык». Приведите примеры декларативных языков.
*При **декларативная подходе** выражается логика вычисления без отсутствия описания потока управления, тогда как в **императивной** парадигме программирования используются утверждения, изменяющие состояние программы.*

Примеры **декларативных** языков программирования:

- SQL;
- HTML.
1. Поясните понятие «процедурный язык». Приведите примеры процедурных языков.

 *в **императивной** парадигме программирования используются утверждения, изменяющие состояние программы.*

 ***Процедурный язык программирования***
 предоставляет возможность программисту определять каждый шаг в процессе решения задачи. Особенность таких [языков программирования](https://ru.wikipedia.org/wiki/%D0%AF%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)
 состоит в том, что задачи разбиваются на шаги и решаются шаг за шагом. Используя процедурный язык, программист определяет языковые конструкции для выполнения последовательности алгоритмических шагов. Важным шагом в развитии процедурного программирования стал переход к [структурной парадигме](https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)
, возникшей благодаря открытию возможности создавать [тьюринг-полные](https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D1%82%D0%B0_%D0%BF%D0%BE_%D0%A2%D1%8C%D1%8E%D1%80%D0%B8%D0%BD%D0%B3%D1%83)
 программы без [оператора безусловного перехода](https://ru.wikipedia.org/wiki/%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80_%D0%B1%D0%B5%D0%B7%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D0%B5%D1%80%D0%B5%D1%85%D0%BE%D0%B4%D0%B0)
 ([теорема Бёма — Якопини](https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BE%D1%80%D0%B5%D0%BC%D0%B0_%D0%91%D1%91%D0%BC%D0%B0_%E2%80%94_%D0%AF%D0%BA%D0%BE%D0%BF%D0%B8%D0%BD%D0%B8)).

 [Фортран](https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D1%82%D1%80%D0%B0%D0%BD)
, [Кобол](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B1%D0%BE%D0%BB)
, [Алгол](https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D0%BB)
, [Бейсик](https://ru.wikipedia.org/wiki/%D0%91%D0%B5%D0%B9%D1%81%D0%B8%D0%BA)
, [Си](https://ru.wikipedia.org/wiki/%D0%A1%D0%B8_(%D1%8F%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F))
, [ПЛ/1](https://ru.wikipedia.org/wiki/%D0%9F%D0%9B/1)
, [Паскаль](https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D1%81%D0%BA%D0%B0%D0%BB%D1%8C_(%D1%8F%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F))
, [Форт](https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D1%82_(%D1%8F%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F))

 15. Перечислите группы операторов языка SQL. 

1.  Назовите основные операторы каждой группы.

**DDL** - Data Definition Language - язык определения данных. Операторы DDL предназначены для создания, удаления и изменения объектов БД или сервера СУБД:

- CREATE – используется для создания объектов базы данных;
- ALTER – используется для изменения объектов базы данных;
- DROP – используется для удаления объектов базы данных.

**DML** - Data Manipulation Language - язык манипулирования данными. Операторы DML предназначены для **работы** **со строками таблиц:**

- SELECT – осуществляет выборку данных;
- INSERT – добавляет новые данные;
- UPDATE – изменяет существующие данные;
- DELETE – удаляет данные.

**TCL** - Transaction Control Language - язык управления транзакциями. Операторы TCL предназначены для **управления транзакциями:**

- BEGIN TRANSACTION – служит для определения начала транзакции;
- COMMIT TRANSACTION – применяет транзакцию;
- ROLLBACK TRANSACTION – откатывает все изменения, сделанные в контексте текущей транзакции;
- SAVE TRANSACTION – устанавливает промежуточную точку сохранения внутри транзакции.

**DCL**  - Data Control Language - язык управления данными. Операторы DCL предназначены для **управления процессом авторизации:**

- GRANT – предоставляет пользователю или группе разрешения на определённые операции с объектом;
- REVOKE – отзывает выданные разрешения;
- DENY– задаёт запрет, имеющий приоритет над разрешением.
1.  Поясните понятие «ограничения целостности». Перечислите все известные вам типы ограничений целостности.

![Untitled](LAB%203/Untitled%206.png)

1. Перечислите все секции оператора SELECT в порядке их выполнения. Поясните назначение каждой секции.

![Untitled](LAB%203/Untitled%207.png)

1.  Перечислите все способы соединения таблиц в SELECT-запросе? Назовите коммутативные способы соединения таблиц.

![Untitled](LAB%203/Untitled%208.png)

![Untitled](LAB%203/Untitled%209.png)

1.  Поясните понятия «подзапрос», «некоррелируемый подзапрос» и «коррелируемый подзапрос».

![Untitled](LAB%203/Untitled%2010.png)

![Untitled](LAB%203/Untitled%2011.png)

1. Поясните понятие «агрегатная функция». Перечислите известные вам агрегатные функции.

Агрегатные функции же существуют для того, чтобы была возможность каким либо образом обобщить полученные данные, то есть манипулировать ими так, как нам это захочется.

![Untitled](LAB%203/Untitled%2012.png)

1. Поясните применение конструкций ***IN, ALL, ANY, BETWEEN, NОТ, IS NULL, LIKE, EXISTS*** в секции

![Untitled](LAB%203/Untitled%2013.png)

### **Конструкции EXISTS и NOT EXISTS**

Позволяют проверить есть ли соответствующие условию записи в подзапросе

### **Конструкция IN и NOT IN с подзапросом**

До этого мы рассматривали IN с перечислением значений. Так же можно использовать его с подзапросом, который возвращает перечень этих значений

1. Перечислите этапы обработки SQL-запроса.

![Untitled](LAB%203/Untitled%2014.png)

1.  Поясните понятия «план запроса», «стоимость запроса».

**План выполне́ния запро́са** — последовательность операций, необходимых для получения результата [SQL](https://ru.wikipedia.org/wiki/SQL)-запроса в [реляционной СУБД](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%BB%D1%8F%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D0%A1%D0%A3%D0%91%D0%94)

**Стоимость запроса**— **это**
 абстрактная цифра, определяемая оптимизатором **запросов**
 на основе оценочных требований к выполнению, таких как время ЦП, память и дисковые операции ввода-вывода. Она соответствует оценочному времени в секундах, которое потребуется для завершения **запроса**
 в конкретной конфигурации оборудования.

1. Поясните понятия «индекс».

**Средство, помогающее ускорить поиск необходимых данных за счет физического или логического их упорядочивания**

1. Перечислите известные вам типы индексов.

![Untitled](LAB%203/Untitled%2015.png)

1. В каких случаях и какого типа индексы создаются автоматически?

Кластеризованные или уникальные при применении Primary key or unique

1. Поясните понятие «фрагментация индекса».

![Untitled](LAB%203/Untitled%2016.png)

В **индексах** сбалансированного дерева (rowstore) **фрагментацией**
 называют такое состояние, когда для некоторых страниц **индекса**
 логический порядок, основанный на значении ключа, не совпадает с физическим порядком страниц **индексов**

1.  Сколько у одной таблицы может быть кластеризованных индексов и почему?

У таблицы может быть только один **кластеризованныйиндекс**, так как данные могут быть отсортированы только в одном порядке.

1. Поясните назначение процедур перестройки и реорганизации индексов. В чем разница?

Реорганизация и перестройка - это разные вещи.

Реорганизация: это дефрагментация индексов. Принимает существующие индексы и дефрагментирует существующие страницы. Однако, если страницы не являются непрерывными, они остаются такими, как раньше. Меняется только содержимое страниц.

Перестройка: фактически он удаляет индекс и перестраивает его с нуля. Это означает, что вы получите совершенно новый индекс с дефрагментированными и смежными страницами.

1. Поясните понятие «представление». С помощью какого оператора создается представление?

В SQL представление - это **виртуальная таблица, основанная на результирующем наборе инструкции SQL**
. Представление содержит строки и столбцы, как и настоящая таблица. Поля в представлени - это поля из одной или нескольких реальных таблиц в базе данных. 

CREATE VIEW

1.  В каких случаях к представлению применимы операторы INSERT, DELETE, UPDATE?

![Untitled](LAB%203/Untitled%2017.png)

1.  Какое дополнительное свойство приобретает представление с опцией WITH CHECK OPTION? 

**WITH** **CHECK** **OPTION**, управляющее указанными значениями, которые можно вводить в таблицу с помощью представления. Как сказано в Главе 18, **это**, в некоторых случаях, может быть желательным вариантом непосредственного ограничения таблицы

1. Чем отличается оператор TRUNCATE от оператора DELETE?

**TRUNCATE**-это **оператор** DDL, тогда как **DELETE**-это **оператор**
 DML. Ниже приведены различия между ними: Поскольку **TRUNCATE**-это **оператор**
 DDL (Data definition language), он не требует фиксации, чтобы сделать изменения постоянными. И именно по этой причине строки, **удаленные**с помощью **truncate**, не могут быть откатаны.

1.  Поясните понятие «курсор». Перечислите типы курсоров известные вам.

![Untitled](LAB%203/Untitled%2018.png)

![Untitled](LAB%203/Untitled%2019.png)

![Untitled](LAB%203/Untitled%2020.png)

1.  Поясните схему работы с курсором.

![Untitled](LAB%203/Untitled%2021.png)

1.  Поясните назначение конструкции CURRENT OF при работе с курсором.

Если вы планируете обновлять или удалять записи, на которые ссылается оператор SELECT FOR UPDATE, вы можете использовать **оператор WHERE CURRENT OF**.

1.  Поясните понятия «транзакция», «фиксация транзакции», «откат транзакции».

![Untitled](LAB%203/Untitled%2022.png)

Фиксация транзакций — перевод тарнзакции в состояние, при котором изминить транзакцию может только другая транзакция

Откат транзакции — отмена всех операций транзакции до близжайшей точки сохранения или полностью при помощи оператораROLLBACK

1. Расшифруйте и поясните аббревиатуру ACID.

![Untitled](LAB%203/Untitled%2023.png)

1. Поясните понятия «режим автофиксации», «режим неявной транзакции», «режим явной транзакции».

В **режиме** **автофиксации** каждый оператор T-**SQL** фиксируется по его завершении, и в **этом**
 **режиме** не требуется никаких дополнительных операторов для управления транзакциями. Иными словами, каждая транзакция состоит только из одного оператора T-**SQL**

Режим неявной транзакции — не требует оператора BEGIN TRANSACTION, начинается автоматически

Режим неявной транзакции — начинается оператором BEGIN TRANSACTION

1. Перечислите известные вам уровни изолированности в порядке их усиления.

![Untitled](LAB%203/Untitled%2024.png)

1. Поясните понятие «неподтвержденное чтение», «неповторяющееся чтение», «фантомное чтение».

![Untitled](LAB%203/Untitled%2025.png)

![Untitled](LAB%203/Untitled%2026.png)

![Untitled](LAB%203/Untitled%2027.png)

1.  Поясните понятия «хранимая процедура», «входной параметр», «выходной параметр», «значение, возвращаемое к точке вызова», «позиционная форма передачи параметров», «параметрическая форма передачи параметров», «системная хранимая процедура».

![Untitled](LAB%203/Untitled%2028.png)

Входные параметры позволяют передать значение в хранимую процедуру или функцию

Выходной параметр:
Этот параметр используется для получения выходных данных из подпрограмм

значение, возвращаемое к точке вызова — значение получившееся в результате выполнения процедуры, которое мы захотели вернуть

**Позиционное связывание**

Во всех приводившихся ранее примерах применялось связывание параметров в соответствии с их позицией. При использовании этого способа PL/SQL принимает во внимание относительные позиции параметров, то есть N-й фактический параметр в вызове программы связывается с N-м формальным параметром в заголовке программы.

**связывание по имени**

Чтобы установить соответствие параметров по имени, следует при вызове подпрограммы явно связать формальный параметр с фактическим. Для этого используется комбинация символов =>:

**Системные** **хранимые процедуры** имеют префикс sp_, хранятся в **системной**
 базе данных и могут быть вызваны в контексте любой другой базы данных.

1.  Поясните понятия «скалярная функция», «встроенная табличная функция», «многооператорная хранимая функция».

Скалярные функции - это **функции, которые возвращают одно значение, работая со скалярными данными или вообще без входных данных**
.

Определяемые пользователем **функции** с **табличным** значением (TVFs) возвращают **табличный** тип данных. **Встроенная** **функция** с **табличным**
 значением не имеет текста, **таблица** является результирующим набором одной инструкции. Примеры см. в разделе "Создание определяемых пользователем **функций**
 (ядро СУБД)".

Многооператорная табличная функция - комбинация представления и хранимой процедуры. Вы можете использовать определяемые пользователем функции, которые возвращают таблицу, чтобы заменить хранимую процедуру или представление.

1. Назовите отличия хранимых процедур от функций.

![Untitled](LAB%203/Untitled%2029.png)

![Untitled](LAB%203/Untitled%2030.png)

1. Поясните понятия «DDL-триггер», «DML-триггер».

**Триггеры DDL** активируются в ответ на различные события языка **DDL**. Эти события в основном соответствуют инструкциям Transact-SQL, которые начинаются с ключевых слов CREATE, ALTER, DROP, GRANT, DENY, REVOKE или UPDATE STATISTICS.

**Триггеры** **DML**— **это**
 хранимые процедуры особого типа, автоматически вступающие в силу, если происходит событие языка обработки данных **DML**, которое затрагивает таблицу или представление, определенное в **триггере**.

1. Поясните понятия «триггер уровня оператора», «триггер уровня строки», «событие, активизирующее триггер».

**Триггер** **уровня** **оператора**: как следует из названия, он выполняется один раз для каждой транзакции базы данных вместо того, сколько строк обновляется, удаляется или вставляется. MySQL не поддерживает **триггеры** SQL **уровня операторов** и выполняет только **триггеры** **уровня** строк.

Если в триггере уровня строки попытаться получить или изменить данные в целевой таблицы, то Oracle не позволит это сделать и выкинет ошибку ORA-04091 Таблица TABLE_TEST изменяется, триггер/функция может не заметить это.

1.  Поясните смысл выражения «триггер является частью транзакции».

**Триггер является частью транзакции**, следовательно, если **триггер** не выполнятся, то отменяется вся **транзакция**. И наоборот, если какая-то **часть транзакции** не выполнилась, то и **триггер** будет отменен.

1. 1. Поясните понятия «XML», «XML-Schema», «W3C», «тег», «атрибут», «корневой тег», «XML-узел», «XML-элемент», «XML-документ», «элементная форма XML-документа», «атрибутная форма XML-документа»;

XML - это **язык разметки подобный HTML**. Расшифровывается как (англ. Extensible Markup Language - Расширяемый Язык Разметки) и является рекомендацией сообщества W3C в качестве языка разметки общего назначения (W3C recommended).

**XML** **Schema**— язык описания структуры XML-документа. Спецификация **XML**
Консо́рциум Всеми́рной паути́ны — организация, разрабатывающая и внедряющая технологические стандарты для Всемирной паутины.

**Тег**, те́ги (иногда тэг, англ. tag — именованная метка, читается /tæg/; более правильное название

**Атрибуты** — это объекты, которые содержатся в сущностях Службы Master Data Services.

В любом **XML**-документе есть **корневой** элемент. **Это тег**, с которого документ начинается, и которым заканчивается.

**Узлы** **XML** - **это** строительные кирпичики, из которых состоит любой **xml**
 докумет.

**XML элемент** — **это** все от (и включая) начального тега элемента до (и включая) конечного тега элемента.

**XML**-**документ**-**это**строка символов. Почти каждый легальный символ Юникода может появиться в **XML**-**документе**
50. Поясните понятия «XML-тип», «типизированные XML-данные», «коллекция XML-схем».

 **Тип** данных **xml** — **это** встроенный в SQL Server **тип** данных, несколько напоминающий другие встроенные **типы**  данных, такие как int и varchar.

В типизированных XML-столбцах, параметрах и переменных можно хранить XML-документы или содержимое

**Коллекция xml**-**схем** — **это** сущность метаданных, например таблица в базе данных.