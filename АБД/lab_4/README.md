# LAB 4

1. **Что такое словарь данных Oracle? Для чего он необходим?**
    
    Набор таблиц, созданных и обслуживаемых сервером Oracle, которые содержат информацию о базе данных.
    
2. **Проклассифицируйте представления словаря данных Oracle.**
    
    **USER**: Объекты, принадлежащие пользователю
    
    **ALL**:   Объекты, к которым пользователь имеет доступ
    
    **DBA**:  Все объекты базы данных (для администратора БД)
    
    V$: Производительность сервера
    
    Прочие представления (DICTIONARY и пр.)
    
3. **Что значит Oracle 12c имеет клиент-серверную архитектуру?**
    
    Раньше вообще все обрабатывалось на одном процессоре (ЭВМ), но с введением клиент-серверной архитектуры на Oracle 8 почти весь интерфейс и большая часть функционала перешла на процессор клиента, а не сервера. 
    
4. **Что такое экземпляр (инстанс) сервера СУБД?**
    
    Экземпляр – логическая сущность (ПО, работающее на сервере), через которую идет связь клиентов с бд, как через мост. Экземпляр может являться частью только одной базы данных. При этом с одной базой данных бывает ассоциировано несколько экземпляров. Экземпляр ограничен по времени жизни, тогда как БД, условно говоря, может существовать вечно.
    
    Включает:
    
    - запущенный сервер (программа) СУБД Oracle
    - общая (глобальная) область памяти (SGA – system global area) и др. системные области памяти
    - фоновые процессы, предназначенные для управления файлами базы данных
5. **Перечислите все этапы старта и останова инстанса Oracle 12c. Поясните их назначение.**
    
    **Запуск**
    
    1. **STARTUP NOMOUNT**: Запуск экземпляра Oracle без монтирования базы данных. Доступ пользователей запрещен. Используется для создания БД и пересоздания управляющих файлов;
    2. **STARTUP** **MOUNT:** Запустить экземпляр, монтировать БД, но не запускать ее. Считан файл параметров. Происходит обращение к управляющим файлам. Проверяется состояние файлов БД. Доступ пользователей запрещен. Из состояния STARTUP NOMOUNT переводится ALTER DATABASE MOUNT;
    3. **STARTUP** **OPEN:** Запустить экземпляр. Монтировать и открыть БД. Могут присоединяться пользователи. Из состояния STARTUP MOUNT переводится ALTER DATABASE OPEN.
    
    **Остановка**
    
    1. **SHUTDOWN** **NORMAL**: Запрещено создавать новые сессии. Ожидается завершение работы всех пользователей. Самый безопасный и долгий способ останова. Никаких восстановительных работ при следующем старте не проводится;
    2. **SHUTDOWN** **TRANSACTIONAL:** Запрещено создавать новые сессии. Запрещено запускать новые транзакции. Сервер дожидается завершения уже начатых транзакций и отключает пользователей, не имеющих активных транзакций. Применяется в случаях, когда нет возможности применить NORMAL. Никаких восстановительных работ при следующем старте не проводится.
    3. **SHUTDOWN** **IMMEDIATE:** Запрещено создавать новые сессии. Запрещено запускать новые транзакции. Все незафиксированные транзакции откатываются. Применяется в случаях, когда нет возможности ждать. Никаких восстановительных работ при следующем старте не проводится.
    4. **SHUTDOWN** **ABORT:** Применяется в крайних случаях, когда остальные режимы останова не приводят к результату. Все действия прекращаются. Все транзакции не фиксируются и не откатываются. Пользователей отсоединяют от БД. При следующем старте будет выполнено возможное восстановление.
    
    Продвинутая инфа:
    
    файлы параметров – spfilesid.ora, spfile.ora, initsid.ora
    
    Можно при STARTUP запускать поэтапно: например, файлу параметров пизда. Тогда можно запустить бд в UNMOUNT и восстановить файлик
    
6. **Где указывается, что при старте операционной системы будет запущен инстанс Oracle 12c?**
    
    
7. **Поясните назначение опции Oracle 12c Multitenant.**
    
    **Oracle Multitenant** - технология, позволяющая запустить несколько независимых баз данных в рамках одного экземпляра. Каждая база данных имеет свой набор табличных пространств и набор схем, но при этом у них общая SGA и один набор серверных процессов.
    
8. **Поясните назначение баз данных CDB, PDB, PDB$SEED.**
    
    **CDB** - container DB – контейнер базы данных
    
    **PDB** - pluggable DB –  подключаемые базы данных
    
    **Начальная PDB** - это системный шаблон, который CDB может использовать для создания новых PDB. Начальный PDB называется PDB $ SEED. Вы не можете добавлять или изменять объекты в PDB $ SEED.
    
9. **Что такое общий пользователь Oracle 12c Multitenant?**
    - Юзер, который может действовать внутри всех контейнеров, в т.ч. CDB root
    - Его можно создать только в root контейнере
    - Начинается с C##
    - Рекомендуется в нем не создавать объекты
    
    Вам нужна общая учетная запись(общий пользователь) для выполнения административных операций с CDB(база данных контейнеров), таких как изменение состояния подключаемой базы данных, подключение и отключение подключаемых баз данных (PDBs) и т. д., что не может сделать локальный пользователь.
    
10. **Какие табличные пространства автоматически создаются при инсталляции СУБД Oracle 12c?**
    
    **Табличное пространство** – логическая структура хранения данных, контейнер сегментов.
    
    System, sysaux, temp, undotbs1, users, example
    
11. **Какие 2 пользователя обязательно создаются при инсталляции СУБД Oracle 12c?**
    
    Sys и system.
    
12. **Какие табличные пространства дублируются в каждой PDB?**
    
    System, sysaux, temp, ~~undotbs1~~, users, example
    
13. **Что такое консолидация баз данных? В каких случаях прибегают к консолидации баз данных?**
    
    Консолидация – объединение серверов и систем хранения в единую инфраструктуру. Используется на большинстве больших предприятий. Критерий хорошей консолидации – большое количество операций ввода\вывода в секунду (IOPS).
    
    Это процесс сбора данных от зависимых объектов и объединения данных с родительскими объектами (по документации Oracle).
    
    Используется:
    
    - при слиянии бд, принадлежащим разным юрлицам
    - при переходе предприятия с множества автономных приложений на единую платформу
    - при повышении стратегической значимости информации, которой располагают изначально независимые друг от друга подразделения предприятия
14. **Какие преимущества дает Oracle 12c Multitenant?**
    
    Упрощает консолидацию (за счет PDB), обновления, провизионирования и множества других процессов, что сокращает расходы при администрировании баз данных.
    
    Базы данных изолированы, друг о друге ничего не знают, не конфликтуют между собой.
    Словарь разбивается на две части: общую часть и локальную.
    
    ![Untitled](LAB%204/Untitled.png)
    
    ![Untitled](LAB%204/Untitled%201.png)