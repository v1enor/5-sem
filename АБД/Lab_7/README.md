# LAB 7

1. **Поясните назначение процесса**
    
    Листенер (слушатель) Oracle Net Listener — служба, которая действует только на сервере и прослушивает входящие запросы на подключение. Oracle предоставляет утилиту lsnrctl, управляющую процессом листенера. Место слушателя в сетевой обработке Oracle можно кратко описать следующим образом.
    С помощью TNS Listener Oracle база данных регистрирует информацию о службах, экземплярах и обработчиках служб.
    Клиент устанавливает начальное соединение со слушателем.
    Слушатель принимает и проверяет запрос на подключение клиента и передает его обработчику службы базы данных. Как только слушатель передает запрос клиента, он устраняется из процесса обслуживания данного подключения.
    
2. **Поясните назначение утилиты lsnrctl.**
    
    Lsnrctl является консольной утилитой, используемой для администрирования Листенера. С ее помощью можно управлять Листенером как локально, так и удаленно. Команды управления включают в себя возможность настройки протоколирования событий, смены пароля или удаленного перезапуска Листенера
    
3. **Что такое сервис?**
    
    Точки подключения экземпляра называются сервисами и имеют символические имена
    
4. **Какие сервисы создаются автоматически при инсталляции инстанса?**
    
    При инсталляции автоматически создается два сервиса:
    
    1. SYS$USERS (по умолчанию, указывается SID в параметрах соединения),
    2. сервис с именем инстанса (указывается сервис)
5. **Поясните принцип работы dedicated-соединения и shared-соединения.**
    
    Серверный процесс может бытъ:
    
    - dedicated (выделенный), обслуживает только один пользовательский процесс
    - shared (распределённый), который обслуживает несколько пользовательских процессов (ранее известный как MTS - multi-threded-server)
    
    По умолчанию всегда сконфигурирован dedicated сервер.
    
    Dedicated process – это когда каждому пользовательскому подключения создается выделенный процесс.
    
    Shared process – это когда имеем пул процессов, который асинхронно раздаем пользователям. При наличии некого апликейшен сервера, в котором реализован пул подключений, запуск оракл сервера в shared process теряет смысл – управление пользовательскими подключениями происходит на уровне сервера приложений.
    
6. **Поясните назначение файла LISTENER.ORA.**
    
    Этот конфигурационный файл отвечает за связь Листенера с СУБД. Для нас важнейшим моментом является хранимая в нем строка подключения, которая со держит такие параметры подключения, как системный идентификатор (SID) и порт, на который будут приниматься запросы для данного SID. Как будет ясно в дальнейшем, эта информация является во многом определяющей при проведении начального этапа проникновения в СУБД Oracle. Этот файл очень важен для нас – получив к нему доступ с возможностью внесения модификаций, мы сможем обойти такие ограничения безопасности, как пароль на службу Листенера и протоколирование событий.
    
7. **Перечислите основные фоновые процессы, перечислите их назначение.**
    
    ![Untitled](LAB%207/Untitled.png)
    
    - DBWn (DataBase Writer) - записывает модифицированные данные из буферного кэша в файлы данных
    - LGWR (Log Writer) - записывает содержимое redolog буфера в redolog файлы.
    - ARCn (Archiver) – архивирует заполненные redolog журналы если такая опция включена. Не является обязательным. Жрет доп. ресурсы. Зато можно восстановить базу к любому времени когда эта опция включена. (упрощенно)
    - CKPT (checkpoint) – отвечает за создание контрольных точек
    - PMON (Process Monitor) – мониторит процессы и восстанавливает работу процессов в случае их сбоя
    - SMON (System Monitor) – отвечает за восстановление системы в случае сбоев
    - MMON (manageability monitor) - сбор статистики