<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        knowledge = [
	[
		'стокс',
		' Джордж Габриель ',
		' - это английский математик, механик и физик-теоретик ирландского происхождения. Работал в Кембриджском университете, внёс значительный вклад в гидро- и газодинамику, оптику и математическую физику',
	],
	[
		'плотность',
		'- это ',
		'  скалярная физическая величина, определяемая как отношение массы тела к занимаемому этим телом объёму или как производная массы по объёму',
		'<img class="dialog__image" src="dialogAttachment/plotnost.png"/>',
	],
	[
		'формула динамической вязкости',
		'',
		'',
		'<img class="dialog__image" src="dialogAttachment/raschet din vyaz.png"/>',
	],
	[
		'жидкость',
		' - ',
		'вещество, находящееся в жидком агрегатном состоянии, занимающем промежуточное положение между твёрдым и газообразным состояниями',
	],
	[
		'вязкость',
		'- это ',
		'одно из явлeний перенoса, свойство текучих тел (жидкостей и газов) оказывать сопротивление перемещению одной их части относительно другой',
	],
	[
		'внутреннее трение',
		' - ',
		'одно из явлeний перенoca, свойство текучих тел (жидкостей и газов) оказывать сопротивление перемещению одной их части относительно другой',
	],
	[
		'явление переноса',
		' - ',
		'особые необратимые процессы, возникающие в термодинамически неравновесных системах. К ним относятся диффузия, теплопроводность и вязкость, или внутреннее трение'
	],
	[
		'закон архимеда',
		'гласит',
		', что на тело, погружённое в жидкость или газ, действует выталкивающая сила, равная весу объёма жидкости или газа, вытесненного частью тела, погружённой в жидкость или газ',
		'<img class="dialog__image" src="dialogAttachment/zakon arhimeda.png/">',
	],
	[
		'безграничная среда',
		'- это',
		'пространство, ширина которого значительно больше, чем диаметр тела. В таком случае на тело не будут влиять гидростатические и гидродинамические силы',
	],
	[
		'число рейнольдса',
		'- это',
		'безразмерная величина, характеризующая отношение инерционных сил к силам вязкого трения в вязких жидкостях и газах',
		'<img class="dialog__image" src="dialogAttachment/Rei.png/">',
	],
	[
		'газы',
		'-',
		'одно из четырёх основных агрегатных состояний вещества, характеризующееся очень слабыми связями между составляющими его частицами (молекулами, атомами или ионами), а также их большой подвижностью',
		'',
	],
	[
		'агрегатное состояние',
		'- это',
		'физическое состояние вещества, зависящее от соответствующего сочетания темпepaтуры и давления',
		'',
	],
	[
		'твердое тело',
		'-',
		'одно из четырёх основных агрегатных состояний вещества, отличающееся от других агрегатных состояний (жидкости, газов, плазмы) стабильностью формы и характером теплового движения атомов, совершающих малые колебания около положений равновесия',
		'',
	],
	[
		'ламинарное течение',
		'-',
		'течение, при котором жидкость или газ перемещаются слоями без перемешивания и пульсаций, то есть без беспорядочных быстрых изменений скорости и давления',
		'',
	],
	[
		'поперечное сечение трубы',
		'- это',
		'изображение фигуры, образованной рассечением трубы плоскостью в поперечном направлении. <br> Формула для расчета площади поперечного сечения трубы где: Dн - наружный диаметр трубы; Dв - внутренний диаметр трубы',
		'<img class="dialog__image" src="dialogAttachment/sech trub.png/">',
	],
	[
		'диффузия',
		'-',
		'неравновесный процесс перемещения (молекул и атомов в газах, ионов в плазме, электронов в полупроводниках и тому подобное) вещества из области с высокой концентрацией в область с низкой концентрацией, приводящий к самопроизвольному выравниванию концентраций по всему занимаемому объёму',
		'',
	],
	[
		'теплопроводность',
		'-',
		'способность материальных тел проводить энергию от более нагретых частей тела к менее нагретым частям тела путём хаотического движения частиц тела (атомов, молекул, электронов и т. п.)',
		'',
	],
	[
		'действие жидкости на шарик',
		'',
		'изображено на рисунке',
		'<img class="dialog__image" src="dialogAttachment/sharik v jije.png/">',
	],
	[
		'импульс',
		'-',
		'или же количество движения. Физическа величина, являющаяся мерой механического движения тела',
		'',
	],
	[
		'формула импульса',
		'',
		'В классической механике: <br> импульс тела равен произведению массы m этого тела на его скоростb v; направление импульса совпадает с направлением вектора скорости',
		'<img class="dialog__image" src="dialogAttachment/impuls.png/">',
	],
	[
		'суммы сил действующих на шарик',
		'',
		'',
		'<img class="dialog__image" src="dialogAttachment/ravnodeystv.png/">',
	],
	[
		'течение жидкости',
		'',
		'можно рассматривать как скольжение слоев относительно друг друга без перемешивания',
		'',
	],
	[
		'движение шарика в жидкости',
		'происходит следующим образом:',
		'в начале движения преобладает сила тяжести и движение будет ускоренным. С возрастанием скорости, согласно закону Стокса, сила сопротивления увеличивается, а ускорение соответственно уменьшается, пока движение шарика не станет равномерным. При равномерном прямолинейном движении сумма всех сил, действующих на шарик, равна нулю',
		'',
	],
	[
		'метод',
		'- это',
		'способ достижения какой-либо цели',
		'',
	],
	[
		'методика',
		'- это',
		'некий готовый «рецепт», алгоритм, процедура для проведения каких-либо нацеленных действий',
		'',
	],
	[
		'универсальная газовая постоянная',
		'-',
		'константа, численно равная работе расширения одного моля идеального газа в изобарном процессе при увеличении темпepaтуры на 1 К. Равна произведению постоянной Больцмана на число Авогадро. Обозначается латинской буквой R: <br>R = 8, 314 462 618 153 24 Дж / (моль∙К)',
		'',
	],
	[
		'связь между газовыми константами',
		'',
		'универсальная газовая постоянная выражается через произведение постоянной Больцмана на число Авогадро',
		'<img class="dialog__image" src="dialogAttachment/const svyaz.png/">',
	],
	[
		'константа',
		'- это',
		'постоянная величина (скалярная или векторная) в математике, физике, химии',
		'',
	],
	[
		'коэффициент теплопроводности',
		'-',
		'количество тепла, которое передается за единицу времени на единицу площади поверхности при темпepaтурном градиенте (изменении темпepaтуры), равном единице. Обозначается символом λ (лямбда), единица измерения Вт/(м·К)',
		'',
	],
	[
		'удельная теплоемкость',
		'- это',
		'это отношение теплоёмкости к массе, теплоёмкость единичной массы вещества (разная для различных веществ); физическая величина, численно равная количеству теплоты, которое необходимо передать единичной массе данного вещества для того, чтобы его темпepaтура изменилась на единицу (Дж/(кг·К))',
		'',
	],
	[
		'кельвин',
		'-',
		'единица термодинамической темпepaтуры в Международной системе единиц (СИ), одна из семи основных единиц СИ. Предложена в 1848 году. Определяется через значение постоянной Больцмана: 1,380649 × 10^−23 Дж / К. До 2019 года определялся как 1/273,16 части термодинамической темпepaтуры тройной точки воды. Начало шкалы (0 К) совпадает с абсолютным нулём',
		'',
	],
	[
		'теплоемкость',
		'- это',
		'количество теплоты, поглощаемой (выделяемой) телом в процессе нагревания (остывания) на 1 кельвин',
		'',
	],
	[
		'скорость',
		'-',
		'векторная физическая величина, характеризующая быстроту перемещения и направление движения материальной точки относительно выбранной системы отсчёта. По определению, равна производной радиус-вектора точки по времени. В СИ измеряется в метрах в секунду',
		'',
	],
	[
		'масса',
		'- это',
		'скалярная физическая величина, определяющая инерционные и гравитационные свойства тел в ситуациях, когда их cкopocть намного меньше скорости света',
		'',
	],
	[
		'цельсий',
		'-',
		'широко распространённая единица темпepaтуры, применяемая в Международной системе единиц (СИ) наряду с кельвином. Согласно современному определению, один градус Цельсия равен одному кельвину (K), а ноль шкалы Цельсия установлен таким образом, что темпepaтура тройной точки воды равна 0,01 °C. В итоге шкалы Цельсия и Кельвина сдвинуты на 273,15 единиц',
		'',
	],
	[
		'вес тела',
		'-',
		'сила, с которой тело действует на опору или подвес.  случае покоящегося в инерциальной системе отсчёта тела, его вес P равен силе тяжести, действующей на тело, и пропорционален массе m и ускорению свободного падения g в данной точке:',
		'',
	],
	[
		'эксперимент',
		'-',
		'процедура, выполняемая для поддержки, опровержения или подтверждения гипотезы или теории',
		'',
	],
	[
		'пограничный слой',
		'-',
		'тонкий слой на поверхности обтекаемого тела или летательного аппарата (ЛА), в котором проявляется эффект вязкости',
		'',
	],
	[
		'термодинамическая система',
		' - ',
		'физическое тело (совокупность тел), способное (способных) обмениваться с другими телами (между собой) энергией и (или) веществом; выделяемая (реально или мысленно) для изучения макроскопическая физическая система, состоящая из большого числа частиц и не требующая для своего описания привлечения микроскопических характеристик отдельных частиц, «часть Вселенной, которую мы выделяем для исследования»',
		'',
	],
	[
		'физическая модель',
		'-',
		'физическое представление системы, объекта или процесса с целью их исследования, то есть это представление с помощью другого физического, реального объекта, имеющего в том или ином аспекте схожую динамику поведения',
		'<img class="dialog__image" src="dialogAttachment/ustanovka.png/">',
	],
	//40
	[
		'термодинамика',
		'- название',
		'раздела физики, изучающего наиболее общие свойства макроскопических систем и способы передачи и превращения энергии в таких системах',
		'',
	],
	[
		'шарик',
		'-',
		'геометрическое тело, совокупность всех точек пространства, находящихся от центра на расстоянии, не больше заданного. Это расстояние называется радиусом шара',
		'',
	],
	[
		'атмосфера',
		'-',
		' газовая оболочка небесного тела, удерживаемая около него гравитацией',
		'',
	],
	[
		'плотность железа',
		'составляет',
		'примерно 7800 килограмм на метр кубический',
		'',
	],
	[
		'плотность масла',
		'составляет',
		'примерно 900 килограмм на метр кубический',
		'',
	],
	[
		'объем шара',
		'равняется',
		'четырем третьим произведения его радиуса в кубе и числа пи',
		'<img class="dialog__image" src="dialogAttachment/shar.png/">',
	],
	[
		'температура',
		'-',
		'физическая величина, характеризующая термодинамическую систему и количественно выражающая интуитивное понятие о различной степени нагретости тел',
	],
	[
		'база знаний',
		'-',
		' база данных, содержащая правила вывода и информацию о человеческом опыте и знаниях в некоторой предметной области',
		'',
	],
	[
		'первый закон ньютона',
		':',
		'всякое тело продолжает удерживаться в своём состоянии покоя или равномерного и прямолинейного движения, пока и поскольку оно не понуждается приложенными силами изменить это состояние',
		'',
	],
	[
		'второй закон ньютона',
		':',
		'в инерциальной системе отсчёта ускорение, которое получает материальная точка с постоянной массой, прямо пропорционально равнодейcтвующeй всех приложенных к ней сил и обратно пропорционально её массе',
		'',
	],
	//50
	[
		'третий закон ньютона',
		':',
		'материальные точки взаимодействуют друг с другом силами, имеющими одинаковую природу, направленными вдоль прямой, соединяющей эти точки, равными по модулю и противоположными по направлению',
		'',
	],
	[
		'нулевой закон термодинамики',
		':',
		'Если каждая из двух термодинамических систем находится в тепловом равновесии с некоторой третьей, то они находятся в тепловом равновесии друг с другом',
		'',
	],
	[
		'первый закон термодинамики',
		':',
		'Для любого термодинамического цикла сумма чистого тепла, доставленного в систему, и чистой работы, совершённой системой, равна нулю',
		'',
	],
	[
		'второй закон термодинамики',
		':',
		'Энтропия изолированная система не в равновесии имеет тенденцию увеличиваться с течением времени, приближаясь к максимальному значению в равновесии',
		'',
	],
	[
		'третий закон термодинамики',
		':',
		'При стремлении температуры к абсолютному нулю, энтропия системы приближается к постоянному минимуму',
		'',
	],
	[
		'четвертый закон термодинамики',
		':',
		'Любая неравновесная система обладает такими свойствами, называемыми кинетическими, которые определяют особенности протекания неравновесных процессов в направлении, указываемым вторым началом термодинамики, и от которых не зависят термодинамические силы, движущие эти неравновесные процессы',
		'',
	],
	[
		'равнодействующая сила',
		'- это',
		'векторная сумма всех сил, действующих на тело',
		'',
	],
	[
		'ускорение свободного падения',
		'пердставляет собой',
		'ускорение, придаваемое телу силой тяжести, при исключении из рассмотрения других сил. ',
		'',
	],
	[
		'коэффициет g',
		'На Земле',
		'варьируется от 9,78 м/с в квадрате на экваторе до 9,82 м/с в квадрате на полюсах',
		'',
	],
	[
		'симулятор',
		'-',
		'имитатор (обычно механический или компьютерный), задача которого состоит в имитации управления каким-либо процессом, аппаратом или транспортным средством',
		'',
	],
];
        let endings = [
            ['ет', '(ет|ут|ют)'],
            ['ут', '(ет|ут|ют)'],
            ['ют', '(ет|ут|ют)'], // 1 спряжение
            ['ит', '(ит|ат|ят)'],
            ['ат', '(ит|ат|ят)'],
            ['ят', '(ит|ат|ят)'], // 2 спряжение
            ['ется', '(ет|ут|ют)ся'],
            ['утся', '(ет|ут|ют)ся'],
            ['ются', '(ет|ут|ют)ся'], // 1 спряжение, возвратные
            ['ится', '(ит|ат|ят)ся'],
            ['атся', '(ит|ат|ят)ся'],
            ['ятся', '(ит|ат|ят)ся'], // 2 спряжение, возвратные
            ['ен', 'ен'],
            ['ена', 'ена'],
            ['ено', 'ено'],
            ['ены', 'ены'], // краткие прилагательные
            ['ан', 'ан'],
            ['ана', 'ана'],
            ['ано', 'ано'],
            ['аны', 'аны'], // краткие прилагательные
            ['жен', 'жен'],
            ['жна', 'жна'],
            ['жно', 'жно'],
            ['жны', 'жны'], // краткие прилагательные
            ["такой", "- это"],
            ["какая", "какое"],
            ["какое", "какое"],
            ["каков", "какой"],
            ["какой", "каков"],
            ["такое", "- это"], //для вопроса "что такое А?" ответ - "А - это ..."
            ["выглядит", "выглядит"],
            ["предназначена", "предназначена"],
            ["является", "является"],
            ["показывает", "показывает"],
            ["называют", "называют"],
            ["есть", "есть"],
            ["равна", "равна"],
            ["гласит", "гласит"],
            ["измеряет", "измеряет"],
            ["формула", "формулы"]
        ];

        // черный список слов, распознаваемых как сказуемые по ошибке
        let blacklist = [
            'замена',
            'замены',
            'атрибут',
            'маршрут',
            'член',
            'нет',
            'выглядит',
        ];

        function getEnding(word) {
            // проверка по черному списку
            if (blacklist.indexOf(word) !== -1) return -1;
            // перебор псевдоокончаний
            for (let j = 0; j < endings.length; j++) {
                // проверка, оканчивается ли i-ое слово на j-ое псевдоокончание
                if (word.substring(word.length - endings[j][0].length) == endings[j][0]) {
                    return j; // возврат номера псевдоокончания
                }
            }
            return -1;
        }


        // функция, которая делает первую букву большой
function big1(str) {
	return str[0].toUpperCase() + str.slice(1);
}

// главная функция, обрабатывающая запросы клиентов
function getAnswer(question) {
	txt = question.toLowerCase().replace(/[*_#?\'",.!()[\]\\/]/g, '');

	// массив слов и знаков препинания
	let words = txt.split(' ');
	// флаг, найден ли ответ
	let result = false;
	// формируемый функцией ответ на вопрос
	let answer = [];
	answer[0] = '';
	answer[1] = new Array([]);

	if (txt == 'бот кок'){
		answer[0] = 'Ты чатиком ошибся.))0)'
		return answer;
	}
	// перебор слов
	for (let i = 0; i < words.length; i++) {
		// поиск номера псевдоокончания
		let ending = getEnding(words[i]);

		// если псевдоокончание найдено – это сказуемое, подлежащее в вопросе после него
		if (ending >= 0) {
			// ТОЧНЫЙ ПОИСК
			let subject_array = words.slice(i + 1);
			let subject_text = subject_array.join(' ');
			for (let j = 0; j < knowledge.length; j++)
				if (
					((words[i] == knowledge[j][1] || // точное совпадение сказуемого
						words[i].substring(0, words[i].length - endings[ending][0].length) +
							endings[ending][1] ==
							knowledge[j][1]) && // совпадение сказуемого с подстановкой (такое ->- это)
						subject_text == knowledge[j][0]) ||
					subject_text == knowledge[j][2]
				) {
					// совпадение подлежащего
					// создание простого предложения из семантической связи
					answer[0] += big1(
						knowledge[j][0] +
							' ' +
							knowledge[j][1] +
							' ' +
							knowledge[j][2] +
							'.<br/>'
					);
					if (knowledge[j][3]) answer[1].push(knowledge[j][3]);
					result = true;
				}
			if (result == false) {
				// ПОИСК С ПОМОЩЬЮ РЕГУЛЯРНЫХ ВЫРАЖЕНИЙ
				// замена псевдоокончания на набор возможных окончаний
				words[i] =
					words[i].substring(0, words[i].length - endings[ending][0].length) +
					endings[ending][1];
				// создание регулярного выражения для поиска по сказуемому из вопроса
				let predicate = new RegExp(words[i]);
				// для кратких прилагательных захватываем следующее слово
				if (endings[ending][0] == endings[ending][1]) {
					predicate = new RegExp(words[i] + ' ' + words[i + 1]);
					i++;
				}
				let subject_array = words.slice(i + 1);
				// создание регулярного выражения для поиска по подлежащему из вопроса
				// из слов подлежащего выбрасываем короткие предлоги (периметр у квадрата = периметр квадрата)
				for (let j = 0; j < subject_array.length; j++) {
					if (subject_array[j].length < 3) {
						subject_array.splice(j);
						j--;
					}
				}
				let subject_string = subject_array.join('.*');
				// только если в послежащем больше трех символов
				if (subject_string.length > 3) {
					let subject = new RegExp('.*' + subject_string + '.*');
					// поиск совпадений с шаблонами среди связей семантической сети
					for (let j = 0; j < knowledge.length; j++) {
						if (
							predicate.test(knowledge[j][1]) &&
							(subject.test(knowledge[j][0]) || subject.test(knowledge[j][2]))
						) {
							// создание простого предложения из семантической связи
							answer[0] += big1(
								knowledge[j][0] +
									' ' +
									knowledge[j][1] +
									' ' +
									knowledge[j][2] +
									'.<br/>'
							);
							if (knowledge[j][3]) answer[1].push(knowledge[j][3]);
							result = true;
						}
					}
					// если совпадений с двумя шаблонами нет
					if (result == false) {
						// поиск совпадений только с шаблоном подлежащего
						for (let j = 0; j < knowledge.length; j++) {
							if (
								subject.test(knowledge[j][0]) ||
								subject.test(knowledge[j][2])
							) {
								// создание простого предложения из семантической связи
								answer[0] += big1(
									knowledge[j][0] +
										' ' +
										knowledge[j][1] +
										' ' +
										knowledge[j][2] +
										'.<br/>'
								);
								if (knowledge[j][3]) answer[1].push(knowledge[j][3]);
								result = true;
							}
						}
					}
				}
			}
		}
	}
	if (!result) answer[0] = 'Ответ не найден';
	return answer;
}
    </script>
</head>
<body>
    
</body>
</html>